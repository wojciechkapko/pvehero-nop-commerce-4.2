(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){"use strict";function v(n,t,i,r){var f={raw:{}},u;r=r||{};for(u in r)r.hasOwnProperty(u)&&(n==="classes"?(f.raw[r[u]]=t+"-"+r[u],f[r[u]]="."+t+"-"+r[u]):(f.raw[u]=r[u],f[u]=r[u]+"."+t));for(u in i)i.hasOwnProperty(u)&&(n==="classes"?(f.raw[u]=i[u].replace(/{ns}/g,t),f[u]=i[u].replace(/{ns}/g,"."+t)):(f.raw[u]=i[u].replace(/.{ns}/g,""),f[u]=i[u].replace(/{ns}/g,t)));return f}function g(){var f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},r=["transition","-webkit-transition"],u={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},o="transitionend",s="",h="",e=document.createElement("div");for(var n in f)if(f.hasOwnProperty(n)&&n in e.style){o=f[n];t.support.transition=!0;break}i.transitionEnd=o+".{ns}";for(n in r)if(r.hasOwnProperty(n)&&r[n]in e.style){s=r[n];break}t.transition=s;for(n in u)if(u.hasOwnProperty(n)&&u[n]in e.style){t.support.transform=!0;h=u[n];break}t.transform=h}function y(){t.windowWidth=t.$window.width();t.windowHeight=t.$window.height();a=u.startTimer(a,d,nt)}function nt(){for(var n in t.ResizeHandlers)t.ResizeHandlers.hasOwnProperty(n)&&t.ResizeHandlers[n].callback.call(window,t.windowWidth,t.windowHeight)}function p(){if(t.support.raf){t.window.requestAnimationFrame(p);for(var n in t.RAFHandlers)t.RAFHandlers.hasOwnProperty(n)&&t.RAFHandlers[n].callback.call(window)}}function w(n,t){return parseInt(n.priority)-parseInt(t.priority)}var s=typeof window!="undefined"?window:this,l=s.document,e=function(){this.Version="@version";this.Plugins={};this.DontConflict=!1;this.Conflicts={fn:{}};this.ResizeHandlers=[];this.RAFHandlers=[];this.window=s;this.$window=n(s);this.document=l;this.$document=n(l);this.$body=null;this.windowWidth=0;this.windowHeight=0;this.fallbackWidth=1024;this.fallbackHeight=768;this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera;this.isFirefox=/Firefox/i.test(this.userAgent);this.isChrome=/Chrome/i.test(this.userAgent);this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome;this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent);this.isIEMobile=/IEMobile/i.test(this.userAgent);this.isFirefoxMobile=this.isFirefox&&this.isMobile;this.transform=null;this.transition=null;this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!!(window.matchMedia||window.msMatchMedia),pointer:!!window.PointerEvent,raf:!!(window.requestAnimationFrame&&window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},u={killEvent:function(n,t){try{n.preventDefault();n.stopPropagation();t&&n.stopImmediatePropagation()}catch(i){}},killGesture:function(n){try{n.preventDefault()}catch(t){}},lockViewport:function(e){if(f[e]=!0,!n.isEmptyObject(f)&&!o){r.length?r.attr("content",c):r=n("head").append('<meta name="viewport" content="'+c+'">');t.$body.on(i.gestureChange,u.killGesture).on(i.gestureStart,u.killGesture).on(i.gestureEnd,u.killGesture);o=!0}},unlockViewport:function(u){n.type(f[u])!=="undefined"&&delete f[u];n.isEmptyObject(f)&&o&&(r.length&&(h?r.attr("content",h):r.remove()),t.$body.off(i.gestureChange).off(i.gestureStart).off(i.gestureEnd),o=!1)},startTimer:function(n,t,i,r){return u.clearTimer(n),r?setInterval(i,t):setTimeout(i,t)},clearTimer:function(n,t){n&&(t?clearInterval(n):clearTimeout(n),n=null)},sortAsc:function(n,t){return parseInt(n,10)-parseInt(t,10)},sortDesc:function(n,t){return parseInt(t,10)-parseInt(n,10)},decodeEntities:function(n){var i=t.document.createElement("textarea");return i.innerHTML=n,i.value},parseQueryString:function(n){for(var i,r={},u=n.slice(n.indexOf("?")+1).split("&"),t=0;t<u.length;t++)i=u[t].split("="),r[i[0]]=i[1];return r}},t=new e,b=n.Deferred(),k={base:"{ns}",element:"{ns}-element"},i={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},a=null,d=20,r,h,c,f=[],o=!1;e.prototype.NoConflict=function(){t.DontConflict=!0;for(var i in t.Plugins)t.Plugins.hasOwnProperty(i)&&(n[i]=t.Conflicts[i],n.fn[i]=t.Conflicts.fn[i])};e.prototype.Ready=function(n){t.document.readyState!=="complete"&&(t.document.readyState==="loading"||t.document.documentElement.doScroll)?t.document.addEventListener("DOMContentLoaded",n):n()};e.prototype.Plugin=function(r,f){return t.Plugins[r]=function(r,f){function h(t){var l=n.type(t)==="object",w=Array.prototype.slice.call(arguments,l?1:0),c=this,s=n(),i,u,h;for(t=n.extend(!0,{},f.defaults||{},l?t:{}),u=0,h=c.length;u<h;u++)if(i=c.eq(u),!o(i)){f.guid++;var a="__"+f.guid,v=f.classes.raw.base+a,y=i.data(r+"-options"),p=n.extend(!0,{$el:i,guid:a,numGuid:f.guid,rawGuid:v,dotGuid:"."+v},t,n.type(y)==="object"?y:{});i.addClass(f.classes.raw.element).data(e,p);f.methods._construct.apply(i,[p].concat(w));s=s.add(i)}for(u=0,h=s.length;u<h;u++)i=s.eq(u),f.methods._postConstruct.apply(i,[o(i)]);return c}function c(){f.functions.iterate.apply(this,[f.methods._destruct].concat(Array.prototype.slice.call(arguments,1)));this.removeClass(f.classes.raw.element).removeData(e)}function o(n){return n.data(e)}function l(t){var i,r;if(this instanceof n){if(i=f.methods[t],n.type(t)!=="object"&&t){if(i&&t.indexOf("_")!==0)return r=[i].concat(Array.prototype.slice.call(arguments,1)),f.functions.iterate.apply(this,r)}else return h.apply(this,arguments);return this}}function a(t){var i=f.utilities[t]||f.utilities._initialize||!1,r;if(i)return r=Array.prototype.slice.call(arguments,n.type(t)==="object"?0:1),i.apply(window,r)}function y(t){f.defaults=n.extend(!0,f.defaults,t||{})}function p(t){for(var u,f,i=this,e=Array.prototype.slice.call(arguments,1),r=0,s=i.length;r<s;r++)u=i.eq(r),f=o(u)||{},n.type(f.$el)!=="undefined"&&t.apply(u,[f].concat(e));return i}var s="fs-"+r,b="fs."+r,e="fs"+r.replace(/(^|\s)([a-z])/g,function(n,t,i){return t+i.toUpperCase()});return f.initialized=!1,f.priority=f.priority||10,f.classes=v("classes",s,k,f.classes),f.events=v("events",r,i,f.events),f.functions=n.extend({getData:o,iterate:p},u,f.functions),f.methods=n.extend(!0,{_construct:n.noop,_postConstruct:n.noop,_destruct:n.noop,_resize:!1,destroy:c},f.methods),f.utilities=n.extend(!0,{_initialize:!1,_delegate:!1,defaults:y},f.utilities),f.widget&&(t.Conflicts.fn[r]=n.fn[r],n.fn[e]=l,t.DontConflict||(n.fn[r]=n.fn[e])),t.Conflicts[r]=n[r],n[e]=f.utilities._delegate||a,t.DontConflict||(n[r]=n[e]),f.namespace=r,f.namespaceClean=e,f.guid=0,f.methods._resize&&(t.ResizeHandlers.push({namespace:r,priority:f.priority,callback:f.methods._resize}),t.ResizeHandlers.sort(w)),f.methods._raf&&(t.RAFHandlers.push({namespace:r,priority:f.priority,callback:f.methods._raf}),t.RAFHandlers.sort(w)),f}(r,f),t.Plugins[r]};t.$window.on("resize.fs",y);return y(),p(),t.Ready(function(){t.$body=n("body");n("html").addClass(t.support.touch?"touchevents":"no-touchevents");r=n('meta[name="viewport"]');h=r.length?r.attr("content"):!1;c="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0";b.resolve()}),i.clickTouchStart=i.click+" "+i.touchStart,g(),window.Formstone=t,t});