@model Nop.Web.Models.Customer.RegisterModel
@using System.Text.Encodings.Web
@using Nop.Web.Extensions
@using FoxNetSoft.Plugin.Misc.PopUpLogin.Helpers;
@{
    Layout = "_ModalLayout";
}

@section Header
{
    <h1>@T("Account.Register")</h1>
}

@section Body
{
    @await Component.InvokeAsync("ExternalMethods", "ExternalAuthentication")
    <form action="javascript:void(null);" data-contoller='@Url.Action("RegisterPOST", "PopUpLogin")' method="post" id="form-fns-pupuplogin-registration" class="d-flex flex-column mt-4" onsubmit="fns_popuplogin_sendform(fnspopuplogin_registration_form_selector)">
        <div asp-validation-summary="ModelOnly" class="message-error"></div>
        <div class="inputs">
            <div class="input-prepend"><div class="input-content"><svg class="icon"><use href="#envelope"></use></svg></div></div>
            <input asp-for="Email" class="form-input" placeholder="Email" />
        </div>
        <span asp-validation-for="Email"></span>
        @if (Model.NewsletterEnabled || Model.CustomerAttributes.Count > 0)
        {
            @if (Model.NewsletterEnabled)
            {
                <input asp-for="Newsletter" class="d-none" />
            }
        }
        <div class="inputs">
            <div class="input-prepend"><div class="input-content"><svg class="icon"><use href="#lock-alt"></use></svg></div></div>
            <input asp-for="Password" class="form-input" placeholder="Password" />
        </div>
        <span asp-validation-for="Password"></span>
        <div class="inputs">
            <div class="input-prepend"><div class="input-content"><svg class="icon"><use href="#lock-alt"></use></svg></div></div>
            <input asp-for="ConfirmPassword" class="form-input" placeholder="Password repeat" />
        </div>
        <span asp-validation-for="ConfirmPassword"></span>

        @if (Model.DisplayCaptcha)
        {
            <div id="fnspopupregistrationcaptchabox" class="captcha-box">
            </div>
        }
        <button type="submit" id="register-button" class="mt-3 button-2 register-next-step-button w-100" name="register-button">@T("Account.Register.Button")</button>
    </form>
}

@section Footer
{
    <div class="d-flex flex-column">
        <p class="my-2">Already have an account?</p>
        <button type="button" class="button-1 back-to-login-button w-100">@T("Account.Login.LoginButton")</button>
    </div>
}